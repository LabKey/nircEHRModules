<query xmlns="http://labkey.org/data/xml/query">
    <metadata>
        <tables xmlns="http://labkey.org/data/xml">
            <table tableName="ProtocolEsig" tableDbType="TABLE">
                <tableTitle>Protocol ESignature</tableTitle>
                <javaCustomizer>org.labkey.nirc_ehr.table.NIRC_EHRCustomizer</javaCustomizer>
                <columns>
                    <column columnName="EsigId">
                        <columnTitle>Esig Id</columnTitle>
                    </column>
                    <column columnName="EsigEvent">
                        <columnTitle>Esig Event</columnTitle>
                        <fk>
                            <fkDbSchema>ehr_lookups</fkDbSchema>
                            <fkTable>esig_events</fkTable>
                            <fkColumnName>value</fkColumnName>
                            <fkDisplayColumnName>title</fkDisplayColumnName>
                        </fk>
                    </column>
                    <column columnName="UserProfile">
                        <columnTitle>User Profile</columnTitle>
                        <fk>
                            <fkDbSchema>core</fkDbSchema>
                            <fkTable>Users</fkTable>
                            <fkColumnName>UserId</fkColumnName>
                            <fkDisplayColumnName>DisplayName</fkDisplayColumnName>
                        </fk>
                    </column>
                    <column columnName="EsigDateTime">
                        <columnTitle>Esig Date</columnTitle>
                    </column>
                </columns>
            </table>
        </tables>
    </metadata>
</query>